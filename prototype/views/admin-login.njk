{% extends "layout.njk" %}

{% block pageTitle %}Admin Login{% endblock %}

{% block content %}
<div class="govuk-width-container">
  <main class="govuk-main-wrapper" id="main-content" role="main">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl">Admin Login</h1>
        
        {% if error %}
        <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" data-module="govuk-error-summary">
          <h2 class="govuk-error-summary__title" id="error-summary-title">There is a problem</h2>
          <div class="govuk-error-summary__body">
            <ul class="govuk-list govuk-error-summary__list">
              <li>{{ error }}</li>
            </ul>
          </div>
        </div>
        {% endif %}
        
        <form method="POST" action="/admin/login" novalidate>
          <div class="govuk-form-group">
            <label class="govuk-label govuk-label--l" for="username">
              Username
            </label>
            <input class="govuk-input govuk-input--width-20" 
                   id="username" 
                   name="username" 
                   type="text" 
                   autocomplete="username"
                   {% if locked %}disabled{% endif %}>
          </div>
          
          <div class="govuk-form-group {% if error %}govuk-form-group--error{% endif %}">
            <label class="govuk-label govuk-label--l" for="password">
              Password
            </label>
            {% if error %}
            <p class="govuk-error-message">
              <span class="govuk-visually-hidden">Error:</span> {{ error }}
            </p>
            {% endif %}
            <input class="govuk-input govuk-input--width-20 {% if error %}govuk-input--error{% endif %}" 
                   id="password" 
                   name="password" 
                   type="password" 
                   autocomplete="current-password"
                   {% if locked %}disabled{% endif %}>
          </div>
          
          <button type="submit" class="govuk-button" data-module="govuk-button" {% if locked %}disabled{% endif %}>
            Sign in
          </button>
        </form>
        
        <p class="govuk-body" style="margin-top: 30px;">
          <a href="/" class="govuk-link">Back to catalogue</a>
        </p>
      </div>
    </div>
  </main>
</div>
{% endblock %}
